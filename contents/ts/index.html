<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <!-- Bootstrap core CSS -->
    <link href="../../app/bower_components/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="../../jumbotron.css" rel="stylesheet">
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <title>Manabu's Angular Typescript World</title>
</head>
<body>
<nav class="navbar navbar-inverse navbar-fixed-top">
    <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/index.html">iManabu's Dev World</a>
        </div>
        <!--<div id="navbar" class="navbar-collapse collapse">-->
        <!--<form class="navbar-form navbar-right">-->
        <!--<div class="form-group">-->
        <!--<input type="text" placeholder="Email" class="form-control">-->
        <!--</div>-->
        <!--<div class="form-group">-->
        <!--<input type="password" placeholder="Password" class="form-control">-->
        <!--</div>-->
        <!--<button type="submit" class="btn btn-success">Sign in</button>-->
        <!--</form>-->
        <!--</div>&lt;!&ndash;/.navbar-collapse &ndash;&gt;-->
    </div>
</nav>
<div class="container">
    <div class="row">
        <h1>Why Bother with TypeScript?</h1>
        <ul>
            <li>JavaScript is difficult to learn and difficult to read. If you have been doing it for a while
            then that's one story. If you have not been coding it, then there are so many hidden tricks you
            need to know.</li>
            <li>ECMAScript 6 is great, it's quite similar to TypeScript too. But, it will be many years before
            the script will be supported widely. Especially in slow moving places like hospital enterprises.</li>
            <li>We can write to ES6 and translate it to ES5. Or do the same with TypeScript today. And in case
            ES6 picks up, my TS will translate properly and still be able to target ES5. So if I pick the target agnostic language I'd be
            better off for me in a longer run.</li>
            <li>Upcoming Angular 2 is written in TypeScript. That's one more reason why I am excited.</li>
            <li>I am from the C# background mostly and TypeScript looks and feels close to C#. It is supported by major players so I feel a bit more safe about using it (though that could
            easily be my famous last word.)</li>
            <li>In terms of why not just use "JavaScript." I do agree but I do not fully buy the argument by some JS purists. 
            I know, it is very important for you to know how JavaScript works. You will be thrown into JS while debugging TS. 
            But my main argument is that we all use high-level languages anything from PHP to Python to Swift to Scala. 
            Technically, you can write anything in C and core of most these language systems are likely to have been written in C and as for myself, I did even write CPU microcode with it. 
            So while it is important for everyone to understand as basic of a thing like C (or assembly), for everyday industrial-strength programming I go as high level as I see fit. 
            I would pick whatever gets your job done in the shortest amount of time and get others, who wind up maintaining your code, into less trouble. Even if it's a bit slower,
            get it reliable first before you optimize any of it.
            For these reasons I like TypeScript, C#, Python, and Scala and that's what I use everyday.</li>	
        </ul>
        <h1>Installation and Initial Configurations</h1>
        <h2>What Tools and Why I Recommend Those</h2>
        <ul>
            <li>If you are going to be a programmer making bucks then the tools are important. I pick WebStorm or the Visual Studio. Microsoft Code is nice but Intellisense
                especially detection and code analysis within HTML is not quite there. WebStorm can even do the code analysis of the HTML file for Angular code,
            so it is the best of all.</li>
            <li>Be sure to use the latest version of the compiler (as of August 2015 it was 1.5.3) </li>
        </ul>
        <h2>Installation of TypeScript</h2>
        The following information is actually documented well. Nevertheless, I did get "stuck" with these issues
        when I was trying to make myself familiar with it. So they might also help you.
        <ol>
            <li>Install Node.js This installs also npm which we will need for subsequent configurations. </li>
            <li><code>sudo npm install -g tsc</code> Installs Typescript compiler. If you are on windows omit sudo but you
            have to be an admin user.</li>
            <li><code>sudo npm install -g tsd</code> Installs the Typescript definition manager.
            This is needed to import the "intellisense" definitions for Visual Studio and WebStorm.</li>
            <li>Install bower by <code>npm install -g bower</code> Most packages use this to install js and css</li>
        </ol>
        <h2>Initial Setup</h2>
        <ul>
            <li>Start with the plain Angular Seed project. It contains handy package.json</li>
            <li>At the root of the seed project do <code>npm install</code> This will install most of what you will need</li>
            <li>If you are using bootstrap either do <code>bower install bootstrap</code> or edit bower.json and add
            <code>"bootstrap": "~3.3.5"</code></li>
            <li>If you are only developing in the app directory <code>cd app</code>, otherwise I would create the
            typings files at the root by not cd to app.</li>
            <li>Now the most of the stuff is set up, bring in the type def files by<br/>
            <code>tsd install "angular*"</code> Granted this will install a whole lot of stuff you may not need
            you could save a lot of time not needing to cherry-pick each definition.</li>
            <li>Now that the files are in place you can include the reference to the 'd' files by doing things like
            <code>/// &lt;reference path="../scripts/typings/angularjs/angular.d.ts" /&gt; at the start
            of your ts source code.</code></li>
        </ul>
        <h2>Yeoman TypeScript Generator - Code Scaffolding</h2>
        <p>Look at <a href="https://www.npmjs.com/package/generator-angular-typescript#controller" target="_blank">
        Yeoman Angular Generator</a> and you can scaffold most of what you will need to build an app.</p>
       
        <p>There are some issues with those documents, so I would like to explain how I got around the issues now.
        <ul>
	        <li>You do have to have ruby because it uses the compass web server. You also need to install
	        the compass most likely by <code>sudo gem install compass</code></li>
	        <li>You do also have to use <code>npm install generator-angular-typescript</code>. The documentation is wrong.</li>
	        <li>The yo command are not correct. You do have to add --typescript (note -- not a -) <code>yo angular-typescript --typescript</code></li>
        </ul>
        <p>By the way, if you are going through the Yeoman mytodo tutorial, and still wondering why the duplicate list items do not work in the example, then the answer
	        is that because it is using the item's string in the $todo list as the key. There is one way to get around this by specifying to track the list by 
	        another key. The <code>ng-repeat</code> directive documents in <a href="https://docs.angularjs.org/error/ngRepeat/dupes" target=_blank>Angular.js</a> site tells you this. 
	        In this case the $index is the key field to force. So make the following change<p><code>ng-repeat="todo in todos track by $index</code></p> and 
	        it not only works right but you can also insert as many duplicates as you want, which is the behavior you would want in a ToDo list other than
	        preventing empty item from being added etc.</p>
        <h1>The Module Name Mystery Solved</h1>
        <P>I've looked at several Angular/TS examples, and a great number of them to not assign the angular module name.
        So it took me some efforts to find out how to do this. Do remember though, your TS code can intermix the plain
        old JavaScript code as well.</P>
        <P>For this to work smoothly in IDE, you will need to make sure that the typings directory especially the
            typings/angularjs/angular.d.ts reference is properly made in source code.</P>
        <h2>The Key to Assigning Module Names</h2>
        <p>Here is a concrete example how this is accomplished.</p>
        <p><code>angular.module("Products", []).controller("Products.Controller", Products.Controller);</code></p>
        In this example, I have essentially created a module called "Products" then added to it the controller
        name of "Products.Controller" and attached the Products (a TypeScript Module), and a class of Controller.
        <p>
            This is a stand-alone function (to a static call) and you could insert this statement inside the constructor of a class OR
            somewhere completely external. For example after the class definition {} but before the module's closing }
            bracket.
        </p>
        <p>
            A typical error made by the Angular developers for module declaration (even without TypeScript) is that the module call can
            serve two purposes, one is to define it and another is to retrieve it. The only difference
            between the two is the string array parameter
            after the module name. If the string array is not provided, then it's a signal to retrieve the
            named module. If the string array is the <b>required</b> items, and this can be an empty string but it
            cannot be omitted to initiate a module.
        </p>

    </div>
    <footer>
        <p>&copy; Manabu Tokunaga 2015 <a
                href="https://docs.google.com/forms/d/1cR8cKDf6Q7Zs43AbiyUERaqA-YIde-StQwEtAd8Q2S0/viewform">Contact
            Me</a></p>
    </footer>
</div>
</body>
</html>
